jest.mock('./FormContext', () => {
  const React = require('react') as typeof import('react');   // <- now typed
  const Context = React.createContext<any>(null);             // generic OK

  let ctxValueRef: any = null;

  return {
    __esModule: true,
    // expose a real Context for our Provider
    FormContext: Context,
    // custom hook used by the component
    useFormContext: () => {
      const v = React.useContext(Context);
      if (!v) throw new Error('useFormContext used outside Provider in test');
      ctxValueRef = v;
      return v;
    },
    // reâ€‘export the real initial so shape/keys match
    initialFormData: require('./FormContext').initialFormData,
  };
});
