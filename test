jest.mock('./FormContext', () => {
  const React = require('react');
  const Context = React.createContext(null as any);  // no `<any>` here

  let ctxValueRef: any = null;

  return {
    __esModule: true,
    FormContext: Context,
    useFormContext: () => {
      const v = React.useContext(Context);
      if (!v) throw new Error('useFormContext used outside Provider in test');
      ctxValueRef = v;
      return v;
    },
    initialFormData: require('./FormContext').initialFormData,
  };
});
