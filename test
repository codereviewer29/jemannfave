import { renderHook, waitFor } from '@testing-library/react';
import axios from 'axios';
import useAuth from './hooks/useAuth';

jest.spyOn(console, 'log').mockImplementation(() => {});

// Use the same literal in both places to avoid hoist issues
const BASE = 'https://api.example.com';

jest.mock('../assets/json/env-properties.json', () => ({
  __esModule: true,
  default: { API_BASE_ENDPOINT: 'https://api.example.com' }, // <- literal, not BASE
}));

jest.mock('axios');
const axiosMock = axios as jest.Mocked<typeof axios>;

// … the rest of your tests unchanged …
