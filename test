jest.mock('../FormContext', () => {
  const React = require('react') as typeof import('react');

  // Avoid TS2347: do NOT use a generic here.
  // Either cast React to any or cast the value.
  const Context = (React as any).createContext(null);

  return {
    __esModule: true,
    FormContext: Context,
    useFormContext: () => {
      const v = React.useContext(Context as any);
      if (!v) throw new Error('useFormContext used outside Provider in test');
      return v;
    },
  };
});
